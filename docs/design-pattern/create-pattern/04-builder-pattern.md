---
title: Builder Pattern
description: Understand about builder pattern
tags: [design-pattern]
last_update:
    date: 2023-01-22
---
## Why to use
λ™μΌν• ν”„λ΅μ„Έμ¤λ΅ κ°μ²΄λ¥Ό μƒμ„±ν•  μ μκ²ν•λ” ν¨ν„΄.

## κΈ°μ΅΄ μƒμ„±μ λ°©μ‹μ ν•κ³„
λ§¤μ° κΈ΄ μƒμ„±μλ¥Ό μƒμ„±ν•κ±°λ‚, κ°„λ‹¨ν• μƒμ„±μλ΅ μΈμ¤ν„΄μ¤ μƒμ„±ν›„ μ¥ν™©ν•κ² setter λ΅ λ§λ“¤λ©΄ μΌκ΄„λ ν”„λ΅μ„Έμ¤λ΅ κ°μ²΄λ¥Ό μƒμ„±ν•μ§€ λ»ν•λ―€λ΅ μ‹¤μν•  μ„ν—μ΄ μ¦κ°€ν•¨. <br></br>
ex) 5λ°• 6μΌμ΄λ©΄ '6μΌ'λ§ κµ¬ν•κ±°λ‚ '5λ°•'λ§ μ„Έν…ν•λ©΄ μ•λκ³  κ°•μ ν•΄μ•Όν•¨ <br></br>
setter λ¥Ό μ‚¬μ©ν•λ©΄ μ•λ¨. => μΈμ¤ν„΄μ¤κ°€ λ¶μ™„μ „ν• ν”„λ΅μ„Έμ¤λ΅ λ§λ“¤μ–΄μ§ μ„ν—μ΄ μκ³  <br></br>
λ‹¤μ–‘ν• νλΌλ―Έν„°λ¥Ό μ§€μ›ν•λ” μƒμ„±μλ¥Ό λ§λ“¤ λ• λ„λ¬΄ κΉ€.

1. **μƒμ„±μ μƒμ„±μ‹ λ„λ¬΄ κΈΈκ³  μ¥ν™©ν•λ‹¤.**
2. λ¶μ™„μ „ν• κ°μ²΄ μƒμ„± ν”„λ΅μ„Έμ¤ <br></br>
   **κ°μ²΄ μƒμ„± ν”„λ΅μ„Έμ¤λ¥Ό κ°•μ ν•  μ μ—†λ‹¤.** <br></br>
   ex) μ—¬ν–‰μ κ²½μ° Days, nights, startDate, endDate λ” λ°λ“μ‹ ν•„μ”ν•κ³  <br></br>
   λ‚λ¨Έμ§€ μ†μ„±μ€ Optional μ΄λΌκ³  κ°€μ •ν•μ. <br></br>
   ν•΄λ‹Ή νλΌλ―Έν„°λ“¤λ§ λ°›λ” μƒμ„±μλ¥Ό λ§λ“λ” λ°©λ²•λ„ μμ§€λ§ <br></br>
   κ° μ†μ„±λ³„λ΅ λ³€κ²½ν•λ” μ»¤μ¤ν…€ λ©”μ†λ“λ¥Ό λ‚λ λ†¨λ‹¤κ³ ν•λ©΄ μ΄λ¥Ό κ°•μ ν•κΈ° κΉλ‹¤λ΅­λ‹¤.


## When to use
- λ³µμ΅ν• κ°μ²΄λ¥Ό λ§λ“λ” ν”„λ΅μ„Έμ¤λ¥Ό μ •λ¦½ν•κ³  λ…λ¦½μ μΌλ΅ λ¶„λ¦¬ν•΄μ•Όν•  λ•
- κ°μ²΄ μƒμ„±μ‹ μƒμ„±μμ— ν•„μ”ν• νλΌλ―Έν„°κ°€ λ§μ•„μ§ λ•

## How to use

> μΈμ¤ν„΄μ¤ λ§λ“λ” λ°©λ²•μ„ Builder μΈν„°νμ΄μ¤λ¥Ό μ •μν•κ³  step λ³„λ΅ λ‚λ  ν”„λ΅μ„Έμ¤λ¥Ό μ •λ¦½ν•λ‹¤.

1. Interface μ •μ
2. κµ¬ν„μ²΄ μ •μ

λ‹¤λ¥Έ Concrete λΉλ”λ¥Ό κµ¬μ„±ν•μ—¬ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ instance μƒμ„±μ„ λ§λ“¤ μλ„ μμ. 


### `@Builder` annotation in Lombok (Not Recommended)
λ³„λ„λ΅ Builder, Director ν΄λμ¤ μ •μμ—†μ΄ λΉλ”λ¥Ό μ‚¬μ©ν•  μ μμ–΄ λ§¤μ° κ°„λ‹¨ν•λ‹¤. <br></br>
κ·Έλ¬λ‚ μ΄ λ°©λ²•μ€ `@AllArgsConstructor` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄μ•Όν•λ―€λ΅ κ¶μ¥λμ§€ μ•λ”λ‹¤.


### Spring ν™μ© μ
UriComponentBuilder λ΅ URI λ¥Ό μ•μ „ν•κ² μƒμ„±ν•  μ μλ‹¤.

```java
public class SpringCreatePatternTest {
    @Test
    void uriComponentTest() {
        var uriComponents = UriComponentsBuilder.newInstance()
                .scheme("https")
                .host("www.m-falcon.tistory")
                .path("656")
                .build()
                .encode()
                .toUriString();

        var designPatternUri = "https://www.m-falcon.tistory/656";

        assertThat(uriComponents).isEqualTo(designPatternUri);
    }
}
```


## Question
Required / Optional λ‚λ μ μμ„κΉ?

> `build()` method μ—μ„ null check ν•λ” λ°©λ²•λ³΄λ‹¤ λ­”κ°€ λ” fancy ν• λ°©λ²•μ΄ μμ„ κ²ƒ κ°™λ‹¤.



## Pros and Cons
### μ¥μ 
- **μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” ν”„λ΅μ„Έμ¤ κ°•μ **<br></br>
λ‹¨μ μƒμ„±μλ΅ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ λ•μ—λ” μΌλ ¨μ μ²΄κ³„κ°€ μ—†μ–΄ μ‹¤μν•κΈ° μ‰¬μ›€.<br></br>
**μƒμ„±μμ— validation λ΅μ§ μ‚½μ…μ‹ λ³µμ΅λ„ μ¦κ°€ λ¶κ°€ν”Ό**

- **Director ν΄λμ¤λ¥Ό ν†µν•΄ λ³µμ΅ν• κ°μ²΄λ¥Ό λ§λ“λ” κ³Όμ •μ„ Wrapping ν•  μ μμ.**<br></br> 
λ³„λ„μ Builder λ¥Ό μ»¤μ¤ν…€ν•μ—¬ λ™μΌν• ν”„λ΅μ„Έμ¤λ¥Ό κ±°μΉμ§€λ§ λ‹¤λ¥Έ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ μλ„ μκ²ν•¨ (ν™•μ¥μ„±)

### λ‹¨μ 
- μ„±λ¥ λ©΄μ—μ„ μ•½κ°„μ μ¤λ²„ν—¤λ“κ°€ λ°μƒ <br></br>
μƒμ„±ν•κ³ μν•λ” μΈμ¤ν„΄μ¤ μƒμ„±μκ°€ μ•„λ‹ builder λ¥Ό κ²½μ ν•΄μ•Ό ν•λ―€λ΅ μ¶”κ°€ μΈμ¤ν„΄μ¤ μƒμ„±μΌλ΅ μΈν• μ•½κ°„μ μ¤λ² ν—¤λ“ λ°μƒ
- κµ¬μ΅°μƒ λ³µμ΅λ„ μ¦κ°€ <br></br>
Builder λλ” Director λ“± λ³„λ„μ μΈν„°νμ΄μ¤ λ° ν΄λμ¤ μ •μ ν•„μ”.

---
## π”— Reference
[μ½”λ”©μΌλ΅ ν•™μµν•λ” GoFμ λ””μμΈ ν¨ν„΄ - λ°±κΈ°μ„ ](https://www.inflearn.com/course/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4)